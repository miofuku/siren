{% extends 'frontend/base.html' %}

{% block extra_head %}
<style>
    #map {
        height: 400px;
        width: 100%;
    }
</style>
<script>
    function initMap() {
        const location = { lat: {{ post.locations.0.latitude }}, lng: {{ post.locations.0.longitude }} };
        const map = new google.maps.Map(document.getElementById("map"), {
            zoom: 10,
            center: location,
        });
        const marker = new google.maps.Marker({
            position: location,
            map: map,
        });
    }
</script>
{% endblock %}

{% block content %}
<div class="bg-white rounded-lg shadow-md p-6">
    <h1 class="text-3xl font-bold mb-4">{{ post.title }}</h1>

    <p class="mb-4">{{ post.content }}</p>

    <p class="text-sm text-gray-600"><strong>Type:</strong> {{ post.type }}</p>
    <p class="text-sm text-gray-600 mb-4"><strong>Posted on:</strong> {{ post.created_at|date:"F d, Y" }}</p>

    <h2 class="text-xl font-semibold mb-2">Locations:</h2>
    <ul class="mb-4">
        {% for location in post.locations %}
        <li>{{ location.name }}</li>
        {% endfor %}
    </ul>
    
    <div id="map" class="mb-4"></div>
    
    <a href="{% url 'post_list' %}" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Back to Posts</a>
</div>
{% endblock %}